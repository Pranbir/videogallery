/*!

   Thumbnail image plugin for Flowplayer HTML5

   Copyright (c) 2015-2016, Flowplayer Oy

   Released under the MIT License:
   http://www.opensource.org/licenses/mit-license.php

   requires:
   - Flowplayer HTML5 version 6.x or greater
   revision: 91ec283

*/
!function(){"use strict";var e=function(e){e(function(o,t){var n=e.common,i=e.bean,a=e.support,r=n.find(".fp-timeline",t)[0],d=n.find(".fp-time"+(0===e.version.indexOf("6.")?"line-tooltip":"stamp"),t)[0];!a.touch&&a.inlineVideo&&o.on("ready",function(a,u,l){i.off(t,".thumbnails"),n.css(d,{width:"",height:"","background-image":"","background-repeat":"","background-size":"","background-position":"",border:"","text-shadow":""});var c=e.extend({},o.conf.thumbnails,l.thumbnails);if(c.template){var f=c.height||80,p=c.interval||1,s=c.template,m=c.time_format||function(e){return e},h="number"==typeof c.startIndex?c.startIndex:1,b=c.lazyload!==!1?new Image:null,g=l.height/l.width,w=function(e,o){function t(){if(!(o>e)){var n=new Image;n.src=s.replace("{time}",m(o)),n.onload=function(){o+=1,t()}}}e=Math.floor(e/p+o),t()};c.preload&&w(l.duration,h),i.on(t,"mousemove.thumbnails",".fp-timeline",function(e){var t,a=e.pageX||e.clientX,u=a-n.offset(r).left,l=u/n.width(r),w=Math.round(l*o.video.duration),x=function(){n.css(d,{width:f/g+"px",height:f+"px","background-image":"url('"+t+"')","background-repeat":"no-repeat","background-size":"cover","background-position":"center",border:"1px solid #333","text-shadow":"1px 1px #000"})};0>w||w>Math.round(o.video.duration)||(w=Math.floor(w/p),t=s.replace("{time}",m(w+h)),c.lazyload!==!1?(b.src=t,i.on(b,"load",x)):x())})}})})};"object"==typeof module&&module.exports?module.exports=e:window.flowplayer&&e(window.flowplayer)}();